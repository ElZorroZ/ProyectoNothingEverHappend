<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tareas Asignadas</title>
  <link rel="stylesheet" href="../css/styles_tareas.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"> <!-- notificacion -->
</head>
<body>
  <div class="page-container">
    <header class="dashboard-header">
      <a href="../DashboardWEB/dashboard.html" class="logo">NothingEverHappens</a>
        <div class="dashboard-actions">
          <button class="notif-btn">ðŸ””<span class="notificacion-indicador"></span></button> <!-- notificacion -->
          <button class="logout-btn" onclick="window.location.href='../VerProyectosAsignadosWEB/verproyectosasignados.html'">Volver</button>
        </div>
    </header>

    <main class="dashboard-main">
      <section class="task-panel">
        <div class="progress-container">
          <label>Progreso del Proyecto:</label>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill">0%</div>
          </div>
        </div>
        
        <h2 class="task-title">Mis Tareas Asignadas</h2>
        
        <!-- Filtros de tareas -->
        <div class="task-filters">
          <button class="filter-btn active" data-filter="todas">Todas</button>
          <button class="filter-btn" data-filter="pendiente">Pendientes</button>
          <button class="filter-btn" data-filter="en-progreso">En Progreso</button>
          <button class="filter-btn" data-filter="completada">Completadas</button>
          <button class="filter-btn" data-filter="fuera-limite">Fuera de LÃ­mite</button>
        </div>

        <!-- Columnas Kanban -->
        <div class="kanban-board">
          <!-- Pendiente -->
          <div class="kanban-column" data-status="pendiente">
            <h3>Pendiente</h3>
            <div class="kanban-tasks" id="pendiente-tasks"></div>
          </div>

          <!-- En Progreso -->
          <div class="kanban-column" data-status="en-progreso">
            <h3>En Progreso</h3>
            <div class="kanban-tasks" id="enprogreso-tasks"></div>
          </div>

          <!-- Completada -->
          <div class="kanban-column" data-status="completada">
            <h3>Completadas</h3>
            <div class="kanban-tasks" id="completada-tasks"></div>
          </div>
        </div>
        
        <div class="kanban-column" data-status="fuera-limite">
          <h3>Fuera de LÃ­mite</h3>
          <div class="kanban-tasks" id="fueralimite-tasks"></div>
        </div>

      </section>
    </main>
    <div id="assignTaskModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2>Asignar Tarea</h2>
        <form id="assignTaskForm">
          <label for="userSelect">Seleccionar Usuario:</label>
          <select id="userSelect" name="userSelect" required>
            <option value="">Selecciona un usuario</option>
          </select>
          <button type="submit">Asignar</button>
        </form>
      </div>
    </div>
    <div class="notification-panel" id="notificationPanel">
      <h3>Notificaciones</h3>
      <ul>
        <li>No tenÃ©s nuevas notificaciones.</li>
      </ul>
    </div>
    <div id="priorityModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close-btn" onclick="closePriorityModal()">&times;</span>
        <h3>Cambiar Prioridad</h3>
        <select id="prioritySelect"></select>
        <div class="modal-buttons">
          <button onclick="cambiarPrioridad()">Confirmar</button>
        </div>
      </div>
    </div>
    
    
    
    <div id="statusModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close-btn" onclick="closeStatusModal()">&times;</span>
        <h2>Cambiar Estado</h2>
        <form id="changeStatusForm">
          <label for="statusSelect">Seleccionar Estado:</label>
          <select id="statusSelect" name="statusSelect" required>
            <option value="pendiente">Pendiente</option>
            <option value="en-progreso">En Proceso</option>
            <option value="completada">Completada</option>
          </select>
          <button onclick="cambiarEstado()">Guardar</button>
        </form>
      </div>
    </div>
    
    <footer class="footer-info">
      <div class="footer-right">
        <img src="../images/Logo.png" alt="Logo" class="footer-logo">
        <span>Â© 2025 NothingEverHappened, Inc.</span>
        <a href="#">TÃ©rminos</a>
        <a href="#">Privacidad</a>
        <a href="#">Seguridad</a>
        <a href="#">Contacto</a>
      </div>
    </footer>
  </div>

  <!-- SockJS -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>

<!-- STOMP -->
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>

  <script src="../js/tareas.js"></script>
</body>
</html>